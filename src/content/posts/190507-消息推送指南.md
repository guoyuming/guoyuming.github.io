---
title: "消息推送指南"
---

App中发送频次最高的消息，除聊天外，是社交网络中好友状态的更新。Facebook不愧为其中王者，好友上传照片、可能好友推荐、好友评论了另一个好友，你都可能收到消息。从产品的价值-知道朋友都在干什么，Facebook这样做符合预期。新闻类产品给你推送当天热点事件、短视频推送关注的人上传的新视频、电商告诉你打折促销了，这些消息都多少满足你对某个产品的需求。能做到定制给每个用户，如微风细雨般关怀的消息是理想的。

更多时候，更多产品，做不到让人备受关怀的推送，只能找到几个场景，获得存在感。运营都希望通过推送来提升某些指标，比如唤醒沉睡用户，有印象了有概率会下次继续使用，继而带动留存和日活。Localytics调查报告表明有消息推送的APP留存是没有消息推送的两倍多。产品内流量往往也呈幂率分布，80%流量集中在20%功能&服务上，长尾怎么办？主动出击刷关注度，用运营加强用户认知。在提供多种服务的产品中，推送带动低频模块的访问，尤其是第三方服务商进驻的平台，如得到、喜马拉雅。比如大众点评为例，大部分用户只是搜索附近的美食或购买电影票，帮助自己做生活消费决策；有了家装、结婚、教育低频高决策难度需求，第一反应不会是大众点评。带动访问，也就带动交易。不知道电商产品如果某天停了推送，销量会降低多少。

一条消息发送出去，终点是接收它的App，是否能收到，随App进程状态不同。IOS有统一的通道APN，处理比较简单。Android进程分三种：

- 前台：收到消息出现在系统通知栏或静默处理
- 后台：也展示在系统通知栏，通过长连接实现
- 未启动：可能没打开、可能进程被清理，收到概率降低

未启动时，大家有几种办法实现。第三方推送服务商的‘长连互保’。国内大厂如小米、华为，都有自己推送模块，接入之后至少在该品牌下的设备，服务稳定。另外第三方服务商如谷歌的FCM、友盟、极光等。友盟对‘长连保护’的解释是：用户设备中任何一个集成过友盟推送的app打开，即使他的app没打开也能启动push service，收到推送。类似接入友盟推送的App形成了一个联盟，只要一个进程是激活的，联盟内的应用就能收到自己的消息。不用有护保联盟的服务，可以检测手机系统的状态变更，来唤醒进程，比如网络状态改变，启动你的服务，即使服务和网络状态无关，也不是必须。这样做坏处是系统检测到无关服务启动，会清理掉，长此以往，不断反复唤起-被杀，容易被列入黑名单。慎用此dark pattern。

你从不同消息中，看到不同内容，大部分样子差不多，少数样式特立独行，如大图、按钮、图标。这些用户可见的元素，可以自定义，也可以用第三方服务的模版。刚开始搭建，推荐用第三方，省去很多弯路，你只需要考虑放什么标题、文案、点击之后跳转哪里。综合其他维度，一条消息应该考虑以下元素，也是如果你自己做个消息创建和发送后台，发送时应该填入的信息：

- 标题
- 文案
- 目标用户
- 时间：立刻、定时
- 推广量：全量、灰度
- 频次：时间段内持续推送几条
- 落地页
- 图标、图片

发送出去后，每条消息衡量效果，基本记录这些数据：

- 预估发送
- 实际发送
- 到达人数
- 点击数

从到达率（到达人数/实际发送人数），可以估算出有多少人卸载活长期不活跃。点击率可以用来优化推送文案和内容是否吸引目标用户。

在送达率优秀情况下，看点击率或落地页互动指标，来优化消息推送策略和展示。高阶技巧如‘赛马机制’：几条推送，控制变量灰度发布，胜出的那条扩大到全量。